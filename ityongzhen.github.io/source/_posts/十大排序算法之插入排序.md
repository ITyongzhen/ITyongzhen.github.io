---
layout: post
title: åå¤§æ’åºç®—æ³•ä¹‹æ’å…¥æ’åº
date: 2018-07-18 17:32:24.000000000 +09:00
categories: 
- æ•°æ®ç»“æ„&ç®—æ³•
---



æœ¬æ–‡é¦–å‘äº[ä¸ªäººåšå®¢](https://ityongzhen.github.io/åå¤§æ’åºç®—æ³•ä¹‹æ’å…¥æ’åº.html)

## å‰è¨€

æœ¬ç³»åˆ—æ’åºåŒ…æ‹¬åå¤§ç»å…¸æ’åºç®—æ³•ã€‚

![](https://user-gold-cdn.xitu.io/2019/11/14/16e6883ad25132a9?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

- ä½¿ç”¨çš„è¯­è¨€ä¸ºï¼šJava
- ç»“æ„ä¸ºï¼š
å®šä¹‰æŠ½è±¡ç±»`Sort`é‡Œé¢å®ç°äº†ï¼Œäº¤æ¢ï¼Œå¤§å°æ¯”è¾ƒç­‰æ–¹æ³•ã€‚ä¾‹å¦‚äº¤æ¢ä¸¤ä¸ªå€¼ï¼Œç›´æ¥ä¼ å…¥ä¸‹æ ‡å°±å¯ä»¥äº†ã€‚å…¶ä»–çš„å…·ä½“æ’åºçš„ç±»éƒ½ç»§æ‰¿æŠ½è±¡ç±»`Sort`ã€‚è¿™æ ·æˆ‘ä»¬å°±èƒ½ä¸“æ³¨äºç®—æ³•æœ¬èº«ã€‚


~~~~
/*
	 * è¿”å›å€¼ç­‰äº0ï¼Œä»£è¡¨ array[i1] == array[i2]
	 * è¿”å›å€¼å°äº0ï¼Œä»£è¡¨ array[i1] < array[i2]
	 * è¿”å›å€¼å¤§äº0ï¼Œä»£è¡¨ array[i1] > array[i2]
	 */
	protected int cmp(int i1, int i2) {
		return array[i1].compareTo(array[i2]);
	}
	
	protected int cmp(T v1, T v2) {
		return v1.compareTo(v2);
	}
	
	protected void swap(int i1, int i2) {
		T tmp = array[i1];
		array[i1] = array[i2];
		array[i2] = tmp;
	}

~~~~

## ä»€ä¹ˆæ˜¯æ’å…¥æ’åº

- [æ’å…¥æ’åº](https://baike.baidu.com/item/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/7214992?fr=aladdin)ï¼ˆInsertion sortï¼‰æ˜¯ä¸€ç§ç®€å•ç›´è§‚ä¸”ç¨³å®šçš„æ’åºç®—æ³•ã€‚å¦‚æœæœ‰ä¸€ä¸ªå·²ç»æœ‰åºçš„æ•°æ®åºåˆ—ï¼Œè¦æ±‚åœ¨è¿™ä¸ªå·²ç»æ’å¥½çš„æ•°æ®åºåˆ—ä¸­æ’å…¥ä¸€ä¸ªæ•°ï¼Œä½†è¦æ±‚æ’å…¥åæ­¤æ•°æ®åºåˆ—ä»ç„¶æœ‰åºï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨åˆ°ä¸€ç§æ–°çš„æ’åºæ–¹æ³•â€”â€”æ’å…¥æ’åºæ³•,æ’å…¥æ’åºçš„åŸºæœ¬æ“ä½œå°±æ˜¯å°†ä¸€ä¸ªæ•°æ®æ’å…¥åˆ°å·²ç»æ’å¥½åºçš„æœ‰åºæ•°æ®ä¸­ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ã€ä¸ªæ•°åŠ ä¸€çš„æœ‰åºæ•°æ®ï¼Œç®—æ³•é€‚ç”¨äºå°‘é‡æ•°æ®çš„æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚æ˜¯ç¨³å®šçš„æ’åºæ–¹æ³•ã€‚æ’å…¥ç®—æ³•æŠŠè¦æ’åºçš„æ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†ï¼šç¬¬ä¸€éƒ¨åˆ†åŒ…å«äº†è¿™ä¸ªæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼Œä½†å°†æœ€åä¸€ä¸ªå…ƒç´ é™¤å¤–ï¼ˆè®©æ•°ç»„å¤šä¸€ä¸ªç©ºé—´æ‰æœ‰æ’å…¥çš„ä½ç½®ï¼‰ï¼Œè€Œç¬¬äºŒéƒ¨åˆ†å°±åªåŒ…å«è¿™ä¸€ä¸ªå…ƒç´ ï¼ˆå³å¾…æ’å…¥å…ƒç´ ï¼‰ã€‚åœ¨ç¬¬ä¸€éƒ¨åˆ†æ’åºå®Œæˆåï¼Œå†å°†è¿™ä¸ªæœ€åå…ƒç´ æ’å…¥åˆ°å·²æ’å¥½åºçš„ç¬¬ä¸€éƒ¨åˆ†ä¸­ã€‚ã€‚

## æ’å…¥æ’åºçš„åŸºæœ¬æ€æƒ³
æ¯æ­¥å°†ä¸€ä¸ªå¾…æ’åºçš„è®°å½•ï¼ŒæŒ‰å…¶å…³é”®ç å€¼çš„å¤§å°æ’å…¥å‰é¢å·²ç»æ’åºçš„æ–‡ä»¶ä¸­é€‚å½“ä½ç½®ä¸Šï¼Œç›´åˆ°å…¨éƒ¨æ’å…¥å®Œä¸ºæ­¢ã€‚

### ç®—æ³•ç¨³å®šæ€§
- æ’å…¥æ’åºæ˜¯ä¸€ç§ç¨³å®šæ’åºç®—æ³•ã€‚

### æ˜¯å¦æ˜¯åŸåœ°ç®—æ³•

- ä½•ä¸ºåŸåœ°ç®—æ³•ï¼Ÿ
	- ä¸ä¾èµ–é¢å¤–çš„èµ„æºæˆ–è€…ä¾èµ–å°‘æ•°çš„é¢å¤–èµ„æºï¼Œä»…ä¾é è¾“å‡ºæ¥è¦†ç›–è¾“å…¥
	- ç©ºé—´å¤æ‚åº¦ä¸º ğ‘‚(1) çš„éƒ½å¯ä»¥è®¤ä¸ºæ˜¯åŸåœ°ç®—æ³•
- éåŸåœ°ç®—æ³•ï¼Œç§°ä¸º Not-in-place æˆ–è€… Out-of-place
- æ’å…¥æ’åºå±äº In-place

### æ—¶ç©ºå¤æ‚åº¦

- æœ€å¥½æ—¶é—´å¤æ‚åº¦ï¼šO(n)
- æœ€åã€å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## ä»£ç 


æ€è·¯ï¼šç¬¬ä¸€ç§æ–¹æ¡ˆæ˜¯æ¯æ¬¡æ¯”è¾ƒã€‚å¦‚æœåé¢çš„æ¯”å‰é¢çš„å°ã€‚å°±äº¤æ¢ä½ç½®ã€‚

~~~~
package YZ.Sort;

public class InsertionSort1<T extends Comparable<T>> extends Sort<T> {

	@Override
	protected void sort() {
		// TODO Auto-generated method stub
		for (int begin = 1; begin < array.length; begin++) {
			int cur = begin;
			while (cur>0 && cmp(array[cur],array[cur-1])<0) {
				swap(cur, cur-1);
				cur--;
			}
		}
	}
}
~~~~



### ä¼˜åŒ–

æ€è·¯ï¼šå°† **äº¤æ¢** æ”¹ä¸º **æŒªåŠ¨**

- å…ˆå°†å¾…æ’å…¥çš„å…ƒç´ å¤‡ä»½
- å¤´éƒ¨æœ‰åºæ•°æ®ä¸­æ¯”å¾…æ’å…¥å…ƒç´ å¤§çš„ï¼Œéƒ½æœå°¾éƒ¨æ–¹å‘æŒªåŠ¨ä¸€ä¸ªä½ç½®
- å°†å¾…æ’å…¥å…ƒç´ æ”¾åœ¨æœ€ç»ˆçš„åˆé€‚ä½ç½®

~~~~

public class InsertionSort2<T extends Comparable<T>> extends Sort<T>  {

	@Override
	protected void sort() {
		for (int begin = 1; begin < array.length; begin++) {
			int cur = begin;
			T res =array[cur];
			while (cur>0 && cmp(res,array[cur-1])<0) {
				array[cur] = array[cur-1];
				cur--;
			}
			array[cur] = res;
		}
		
	}

}

~~~~

### äºŒåˆ†æ³•ä¼˜åŒ–

å‰é¢çš„ä»£ç ä¸­ï¼Œæƒ³è¦æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯é€šè¿‡é€ä¸ªæ¯”è¾ƒæ¥å¯»æ‰¾è¦æ’å…¥çš„ä½ç½®ã€‚å…¶å®å¯ä»¥é€šè¿‡äºŒåˆ†æ³•æ¥æ›´å¿«é€Ÿçš„æŸ¥æ‰¾ä½ç½®ã€‚

~~~~
public class InsertionSort3 <T extends Comparable<T>> extends Sort<T>  {

	@Override
	protected void sort() {
		// TODO Auto-generated method stub
		for (int begin = 1; begin < array.length; begin++) {
			insert(begin, searchIndex(begin));
		}
	}

	/**
	 * å°†sourceä½ç½®çš„å…ƒç´ æ’å…¥åˆ°destä½ç½®
	 * @param source
	 * @param dest
	 */
	private void insert(int source,int dest) {
		T v = array[source];
		for (int i = source; i > dest; i--) {
			array[i] = array[i-1];
		}
		array[dest] = v;
	}
	
	/**
	 * åˆ©ç”¨äºŒåˆ†æœç´¢æ‰¾åˆ° index ä½ç½®å…ƒç´ çš„å¾…æ’å…¥ä½ç½®
	 * å·²ç»æ’å¥½åºæ•°ç»„çš„åŒºé—´èŒƒå›´æ˜¯ [0, index)
	 * @param index
	 * @return
	 */
	private int searchIndex(int index) {
		int begin = 0;
		int end = index;
		while (begin<end) {
			int mid = (begin+end)>>1;
			if (cmp(array[index], array[mid])<0) {
				end = mid;
			}else {
				begin = mid +1;
			}
			
		}
		return begin;
	}

}

~~~~





## ç»“æœ

æ•°æ®æºï¼šä»1åˆ°20000ä¹‹é—´éšæœºç”Ÿæˆ10000ä¸ªæ•°æ®æ¥æµ‹è¯•
>Integer[] array = Integers.random(10000, 1, 20000);

ç»“æœå¦‚ä¸‹ï¼š

ã€BubbleSortã€‘
ç¨³å®šæ€§ï¼štrue 	è€—æ—¶ï¼š0.481s(481ms) 	æ¯”è¾ƒæ¬¡æ•°ï¼š4999.50ä¸‡	 äº¤æ¢æ¬¡æ•°ï¼š2467.42ä¸‡

ã€BubbleSort1ã€‘
ç¨³å®šæ€§ï¼štrue 	è€—æ—¶ï¼š0.428s(428ms) 	æ¯”è¾ƒæ¬¡æ•°ï¼š4998.82ä¸‡	 äº¤æ¢æ¬¡æ•°ï¼š2467.42ä¸‡

ã€BubbleSort2ã€‘
ç¨³å®šæ€§ï¼štrue 	è€—æ—¶ï¼š0.405s(405ms) 	æ¯”è¾ƒæ¬¡æ•°ï¼š4993.60ä¸‡	 äº¤æ¢æ¬¡æ•°ï¼š2467.42ä¸‡

ã€InsertionSort1ã€‘
ç¨³å®šæ€§ï¼štrue 	è€—æ—¶ï¼š0.239s(239ms) 	æ¯”è¾ƒæ¬¡æ•°ï¼š2468.42ä¸‡	 äº¤æ¢æ¬¡æ•°ï¼š2467.42ä¸‡

ã€InsertionSort2ã€‘
ç¨³å®šæ€§ï¼štrue 	è€—æ—¶ï¼š0.186s(186ms) 	æ¯”è¾ƒæ¬¡æ•°ï¼š2468.42ä¸‡	 äº¤æ¢æ¬¡æ•°ï¼š0

ã€InsertionSort3ã€‘
ç¨³å®šæ€§ï¼štrue 	è€—æ—¶ï¼š0.114s(114ms) 	æ¯”è¾ƒæ¬¡æ•°ï¼š11.90ä¸‡	 äº¤æ¢æ¬¡æ•°ï¼š0

ã€HeapSortã€‘
ç¨³å®šæ€§ï¼šfalse 	è€—æ—¶ï¼š0.005s(5ms) 	æ¯”è¾ƒæ¬¡æ•°ï¼š23.53ä¸‡	 äº¤æ¢æ¬¡æ•°ï¼š9999




å¯ä»¥çœ‹åˆ°æ’å…¥æ’åºçš„æ€§èƒ½é«˜äº[å†’æ³¡æ’åº](https://juejin.im/post/5db6ab90f265da4d3d2e3b3b)ï¼Œä½†æ˜¯ä½äº[å †æ’åº](https://juejin.im/post/5dba9dfcf265da4d4835c503)ã€‚
## ä»£ç åœ°å€ï¼š

- æ–‡ä¸­çš„ä»£ç åœ¨gitä¸Šï¼š[githubåœ°å€](https://github.com/ITyongzhen/DataStructureAndAlgorithm)
